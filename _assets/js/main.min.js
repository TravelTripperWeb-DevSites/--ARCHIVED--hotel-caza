"use strict";function leafletMap(e){var t={target:document.getElementById("leafletmap"),hotelTitle:"Default Hotel",hotelAddress:"9 Crosby St New York, NY 10013",hotelLat:33.400356,hotelLong:-111.918608,hotelMarker:"/assets/img/marker.png",markerSize:[32,32],zoom:14,minZoom:0,maxZoom:20,fitBounds:!0,attrLabel:!1,markerLabelText:!1,categorytypeIcon:!1,attrIconClass:"map-circle-icon",scrollWheelZoom:!1,scrollOnClick:!0,getDirectionBtn:!1,googleLink:!1,websiteLink:!1,getDirectionBtnLabel:"Get Direction",hideMarkerLabelHover:!1,hoverActive:!1,showPopup:!0,markerClickAction:!1,TileStyle:"https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png",attribution:'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var o,a={},n={},r=e.attractionsList||[],c=this,l=[],i=[],s=function e(){var t={},o=!1,a=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(o=arguments[0],a++);for(;a<n;a++){var r=arguments[a];!function(a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(o&&"[object Object]"===Object.prototype.toString.call(a[n])?t[n]=e(!0,t[n],a[n]):t[n]=a[n])}(r)}return t}(t,e||{});a.init=function(){var e=s.target,t=e.dataset.attractions||!1;if(null!=e){var a=L.icon({iconUrl:s.hotelMarker,iconSize:s.markerSize});o=L.map(e,{scrollWheelZoom:s.scrollWheelZoom}),o.on("click",function(){!s.scrollWheelZoom&&s.scrollOnClick&&(o.scrollWheelZoom.enabled()?o.scrollWheelZoom.disable():o.scrollWheelZoom.enable())}),o.setView([s.hotelLat,s.hotelLong],s.zoom),L.tileLayer(s.TileStyle,{attribution:s.attribution,minZoom:s.minZoom,maxZoom:s.maxZoom}).addTo(o);var n=L.marker([s.hotelLat,s.hotelLong],{title:s.hotelTitle,alt:"Hotel Map Marker",icon:a}).bindPopup("<h4>".concat(s.hotelTitle,"</h4> ").concat(s.hotelAddress)).addTo(o);t&&(d(o,n,s),p(),h())}};var m=function(e,t){var o={className:t+s.attrIconClass};return s.attrLabel&&(o=Object.assign({},o,{html:e})),L.divIcon(o)},d=function(e,t,o){var a="";if(r.length>0){for(var d=0;d<r.length;d++){var p=r[d][3],h=o.categorytypeIcon?r[d][3]:"",u=o.markerLabelText?r[d][0]:d+1;a=o.googleLink?'<a href="http://maps.google.com/maps?q='.concat(r[d][0],"+").concat(r[d][4],'" target="_blank"><h4>').concat(r[d][0],"</h4>").concat(r[d][4],"</a>"):!o.websiteLink&&o.getDirectionBtn?"<h4>".concat(r[d][0],"</h4>").concat(r[d][4],'<br>\n          <a class="btnDirection" href="http://maps.google.com/maps?q=').concat(encodeURIComponent(r[d][0]).replace(/ /g,"+"),"+").concat(encodeURIComponent(r[d][4]).replace(/ /g,"+"),'" target="_blank">').concat(o.getDirectionBtnLabel,"</a>"):o.websiteLink&&!o.getDirectionBtn?'<h4><a href="'.concat(r[d][5],'">').concat(r[d][0],"</a></h4>").concat(r[d][4]):o.websiteLink&&o.getDirectionBtn?'<h4><a href="'.concat(r[d][5],'">').concat(r[d][0],"</a></h4>").concat(r[d][4],'<br>\n          <a class="btnDirection" href="http://maps.google.com/maps?q=').concat(encodeURIComponent(r[d][0]).replace(/ /g,"+"),"+").concat(encodeURIComponent(r[d][4]).replace(/ /g,"+"),'" target="_blank">').concat(o.getDirectionBtnLabel,"</a>"):"<h4>".concat(r[d][0],"</h4>").concat(r[d][4]),n[p]=n[p]||[],t=new L.marker([r[d][1],r[d][2]],{title:o.hideMarkerLabelHover?"":r[d][0],name:r[d][0],alt:r[d][3],icon:m(u,h),marker_item:d+1,riseOnHover:!0}).bindPopup(a).addTo(e);var f={lat:r[d][1],lon:r[d][2],marker:t,li:c,category:r[d][3]};i.push([r[d][1],r[d][2]]),l.push(f),n[p].push(f),t.on("click",g),s.hoverActive&&t.on("mouseover",g),s.markerClickAction&&s.markerClickAction instanceof Function&&t.on("click",s.markerClickAction)}setTimeout(function(){s.fitBounds&&e.fitBounds(i)},300)}},g=function(e){for(var t=document.querySelectorAll(".map-circle-icon.active"),o=0;o<t.length;o++)t[o].classList.remove("active");e.target._icon.classList.toggle("active")},p=function(){var e=Object.keys(n),t=document.querySelector("[data-mapcategory-filter]");if(e.length>1&&t){t.insertAdjacentHTML("beforeend",'<li class="nav-item"><a class="nav-link active" data-category=\'all\'>All</a></li>');for(var o=0,a=e.length;o<a;o++)t.insertAdjacentHTML("beforeend",'<li class="nav-item '.concat(e[o].toLowerCase().trim(),'"><a class="nav-link" data-category="').concat(e[o],'"> ').concat(e[o],"</a></li>"))}},h=function(){var e=document.querySelector("[data-mapcategory-list]");e&&Object.keys(n).forEach(function(t,o){e.insertAdjacentHTML("beforeend",'<div data-mappable-category="'+t+'"><h3>'+t+'</h3><ul class="attraction-lists list-'+t+'"></ul></div>');for(var a=0;a<n[t].length;a++)document.querySelector("ul.list-"+t).insertAdjacentHTML("beforeend",'<li data-mappable-item="'+a+'" data-mappable-category="'+n[t][a].category+'">'+n[t][a].marker.options.name+"</li>")})},u=function(e){var t=e.target.dataset.category;i.length=0,i.push([s.hotelLat,s.hotelLong]);for(var a=0;a<l.length;a++)l[a].category==t||"all"==t?(l[a].marker.addTo(o),i.push([l[a].lat,l[a].lon])):o.removeLayer(l[a].marker);setTimeout(function(){s.fitBounds&&o.fitBounds(i)},300)},f=function(e){for(var t=e.target.dataset.mappableCategory,a=e.target.dataset.mappableItem,r=document.querySelectorAll(".map-circle-icon.active"),c=0;c<r.length;c++)r[c].classList.remove("active");if(n[t][a].marker._icon&&n[t][a].marker._icon.classList.toggle("active"),s.showPopup){var l=n[t][a].marker._latlng.lat,i=n[t][a].marker._latlng.lng;o.panTo({lat:l,lng:i}),n[t][a].marker.openPopup()}};return window.onload=function(){var e=document.querySelectorAll("[data-category]"),t=document.querySelectorAll("[data-mappable-item]");Array.from(e).forEach(function(e){return e.addEventListener("click",u)}),Array.from(t).forEach(function(e){return e.addEventListener("click",f)}),s.hoverActive&&Array.from(t).forEach(function(e){return e.addEventListener("mouseover",f)})},a}function readyDoc(e){var t=document;"loading"==t.readyState?t.addEventListener("DOMContentLoaded",e):e()}window.LeafletMap=leafletMap;var forEachloop=function(e,t,o){for(var a=0;a<e.length;a++)t.call(o,a,e[a])};readyDoc(function(){var e=document.querySelectorAll(".amenities-slider");forEachloop(e,function(e,t){var o=t.nextElementSibling.children[1],a=t.nextElementSibling.children[0],n=t.nextElementSibling.children[2];tns({container:t,navPosition:"bottom",navContainer:o,prevButton:a,nextButton:n,items:1,loop:!1,responsive:{640:{edgePadding:20,gutter:20,items:2},700:{items:3},900:{items:4}}})})});